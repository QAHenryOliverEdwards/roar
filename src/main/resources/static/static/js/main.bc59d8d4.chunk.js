(this["webpackJsonproar-dev-branch"]=this["webpackJsonproar-dev-branch"]||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(20),s=n.n(a),r=(n(40),n(41),n(42),n(8)),o=n(55),i=n(56),l=n(15),u=n(7),j=n(30),d=n(5),b=n.n(d),h=n(9),p=function(e){return e.forEach((function(e,t,n){n[t].editText=!1})),e},x=function(e){var t=[];return e.forEach((function(e){var n={userID:"none",postID:e.id,parentID:"none",name:"none",body:e.body,"recursion-level":0};t.push(n);!function e(n,c,a){Array.isArray(c)&&0!==c.length&&(a+=1,c.forEach((function(c){var s={userID:"none",postID:c.id,parentID:n.id,name:"none",body:c.body,"recursion-level":a};return t.push(s),e(c,c.children,a)})))}(e,e.children,0)})),t},f=function(e){var t=[],n=[];return e.forEach((function(e){n.includes(e.postID)||(t.push(e),n.push(e.postID))})),t},O=function(e,t){return 0!==t.length&&e.forEach((function(e,n,c){var a=m(e,t);c[n].userID=a.id,c[n].name=a.name})),e},m=function(e,t){var n=e.postID;for(var c in t){var a=t[c];for(var s in t[c].posts){if(t[c].posts[s].id===n)return a}}},v=function(e,t,n){var c=x(t);c=f(c),c=O(c,e),n(c=p(c))},g=n(57),y=n(54),w=n(1),k=function(e){var t=e.deleteFunc,n=e.postID,c=e.forceReload;return Object(w.jsx)(y.a,{variant:"link",className:"col-1 justify-content-end card-title button-no-decoration",onClick:function(){t(n,c)},children:"\ud83d\uddd1"})},I=function(){var e=Object(h.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch("http://roar-env.eba-hb5rpyxz.eu-west-2.elasticbeanstalk.com/posts/delete/".concat(t),{method:"DELETE"});case 3:return 204===(c=e.sent).status?(console.log("Delete Successful"),n()):console.log("Delete Unsuccessful"),e.abrupt("return",c.status);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(e){var t=e.editFunc,n=e.postID;return Object(w.jsx)(y.a,{variant:"link",className:"col-1 justify-content-end card-title button-no-decoration",onClick:function(){t(n)},children:"\u270f"})},D=function(e){var t=e.postProps,n=e.setReplyFunc,c=e.forceReload;return 0===t["recursion-level"]?Object(w.jsx)("div",{children:Object(w.jsxs)(g.a,{className:"dark-green-bg",children:[Object(w.jsx)("div",{className:"container-fluid px-0",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)(g.a.Title,{className:"post-name col-10",children:t.name}),Object(w.jsx)(N,{editFunc:n,postID:t.postID}),Object(w.jsx)(k,{deleteFunc:I,postID:t.postID,forceReload:c})]})}),Object(w.jsx)(g.a.Text,{className:"post-text",children:t.body})]})}):0!==t["recursion-level"]?Object(w.jsx)("div",{children:Object(w.jsxs)(g.a,{className:"light-green-bg",children:[Object(w.jsx)("div",{className:"container-fluid px-0",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)(g.a.Title,{className:"post-name col-10",children:t.name}),Object(w.jsx)(N,{editFunc:n,postID:t.postID}),Object(w.jsx)(k,{deleteFunc:I,postID:t.postID,forceReload:c})]})}),Object(w.jsx)(g.a.Text,{className:"post-text",children:t.body})]})}):void 0},S=function(e,t){return t.forEach((function(t,n,c){t.postID===e&&(c[n].editText=!c[n].editText,console.log("changed"))})),t};var F=function(e){return new Promise((function(t){return setTimeout(t,e)}))},T=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={body:t,visibility:!0},e.next=3,fetch("http://roar-env.eba-hb5rpyxz.eu-west-2.elasticbeanstalk.com/posts/update/".concat(n),{method:"PUT",headers:{"Content-Type":"Application/json"},body:JSON.stringify(a)});case 3:if(202!==e.sent.status){e.next=10;break}return e.next=7,F(500);case 7:c(),e.next=11;break;case 10:console.log("Update failed");case 11:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),C=function(e){var t=e.postProps,n=e.setReplyFunc,a=e.forceReload,s=Object(c.useState)(""),o=Object(r.a)(s,2),i=o[0],l=o[1],u=function(e){l(e.target.value)};return 0===t["recursion-level"]?Object(w.jsx)("div",{children:Object(w.jsxs)(g.a,{className:"dark-green-bg",children:[Object(w.jsx)("div",{className:"container-fluid px-0",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)(g.a.Title,{className:"post-name col-10",children:t.name}),Object(w.jsx)(N,{editFunc:n,postID:t.postID}),Object(w.jsx)(k,{deleteFunc:I,postID:t.postID,forceReload:a})]})}),Object(w.jsx)("textarea",{className:"form-control post-text",rows:2,onChange:function(e){u(e)},defaultValue:t.body}),Object(w.jsx)(y.a,{variant:"primary",onClick:function(){T(i,t.postID,a),n(t.postID)},children:"Finish Edit!"})]})}):0!==t["recursion-level"]?Object(w.jsx)("div",{children:Object(w.jsxs)(g.a,{className:"light-green-bg",children:[Object(w.jsx)("div",{className:"container-fluid px-0",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)(g.a.Title,{className:"post-name col-10",children:t.name}),Object(w.jsx)(N,{editFunc:n,postID:t.postID}),Object(w.jsx)(k,{deleteFunc:I,postID:t.postID,forceReload:a})]})}),Object(w.jsx)("textarea",{className:"form-control post-text",rows:2,onChange:function(e){u(e)},defaultValue:t.body}),Object(w.jsx)(y.a,{variant:"primary",onClick:function(){T(i,t.postID,a),n(t.postID)},children:"Finish Edit!"})]})}):void 0},R=function(e){var t=e.postDictionary,n=e.forceReload,a=Object(c.useState)([]),s=Object(r.a)(a,2),o=s[0],i=s[1],l=Object(c.useCallback)((function(e){var n=S(e,t);u(n)}),[t]),u=Object(c.useCallback)((function(e){var t=[];e.forEach((function(e){!1===e.editText?t.push(Object(w.jsx)(D,{postProps:e,setReplyFunc:l,forceReload:n},e.postID)):!0===e.editText&&t.push(Object(w.jsx)(C,{postProps:e,setReplyFunc:l,forceReload:n},e.postID))})),i(t)}),[l]);return Object(c.useEffect)((function(){u(t)}),[u]),Object(w.jsx)("div",{children:o})},E=function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://roar-env.eba-hb5rpyxz.eu-west-2.elasticbeanstalk.com/users/getID",{headers:{token:t}});case 2:return n=e.sent,e.next=5,n.text();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(h.a)(b.a.mark((function e(t,n){var c,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=sessionStorage.getItem("auth-roar"),e.next=3,E(c);case 3:return a=e.sent,s={body:t,visibility:!0,user:{id:a}},e.next=7,fetch("http://roar-env.eba-hb5rpyxz.eu-west-2.elasticbeanstalk.com/posts/create",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify(s)});case 7:201===e.sent.status?(console.log("Post Successful"),n()):console.log("Post Unsuccessful");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(e){var t=e.forceReload,n=Object(c.useState)(""),a=Object(r.a)(n,2),s=a[0],o=a[1];return Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{className:"title",children:"Speak Your Mind"}),Object(w.jsx)("textarea",{className:"form-control",rows:3,id:"post-box",onChange:function(e){!function(e){o(e.target.value)}(e)}}),Object(w.jsx)(y.a,{variant:"secondary",className:"form-control",onClick:function(){A(s,t),document.querySelector("#post-box").value="",o("")},children:"Submit"})]})},L=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),o=Object(r.a)(s,2),i=o[0],l=o[1],u=Object(c.useState)([]),j=Object(r.a)(u,2),d=j[0],p=j[1],x=Object(c.useCallback)(Object(h.a)(b.a.mark((function e(){var t,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length){e.next=8;break}return e.next=3,fetch("http://roar-env.eba-hb5rpyxz.eu-west-2.elasticbeanstalk.com/users/read");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,a(c);case 8:case"end":return e.stop()}}),e)}))),[n.length]),f=Object(c.useCallback)(Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.length){e.next=8;break}return e.next=3,fetch("http://roar-env.eba-hb5rpyxz.eu-west-2.elasticbeanstalk.com/posts/read");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,l(n);case 8:case"end":return e.stop()}}),e)}))),[i.length]),O=Object(c.useCallback)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return e.next=4,f();case 4:return e.next=6,v(n,i,p);case 6:case"end":return e.stop()}}),e)}))),[x,f,n,i]);Object(c.useEffect)((function(){O()}),[O]);var m=Object(c.useCallback)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a([]),l([]),O();case 3:case"end":return e.stop()}}),e)}))),[O]);return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"Homepage"}),Object(w.jsx)(P,{forceReload:m}),Object(w.jsx)(R,{postDictionary:d,forceReload:m})]})},z=function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{className:"title text-center",children:"About Roar"}),Object(w.jsxs)("p",{className:"about-text mx-3",children:["Roar is a small project developed by ",Object(w.jsx)("a",{href:"https://github.com/QAHenryOliverEdwards",children:"Henry Oliver-Edwards"})," ,",Object(w.jsx)("a",{href:"https://github.com/CGuthrieQA",children:"Cameron Guthrie"})," and ",Object(w.jsx)("a",{href:"https://github.com/giefortunaQA",children:"Gie-Anne Fortuna "}),". It aims to be an online means of communication, which takes inspiration from other social media platforms such as twitter and Facebook. It aims to be similar to these platforms while providing it's own unique twist, as well as letting us practice the skills we have learnt and let us pick-up new skills along the way.",Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),"There are 3 major groups of technologies used in this project, the back-end (the part of application which you do not see, it handles web requests, managing of the database and processing) it written in Java, using the Spring Boot framework. The front-end (the part of the application you interact with is written in JavaScript using the React framework. And finally we used AWS to deploy the application. Since this is an opensource project, all of the source code can be found on out ",Object(w.jsx)("a",{href:"https://github.com/QAHenryOliverEdwards/roar",children:"Github repository"}),"."]})]})},U=function(e){var t=e.inputFunc,n=e.type,c=e.placeholder;return Object(w.jsx)("input",{type:n,onChange:function(e){t(e)},className:"form-control rounded-pill my-1",placeholder:c})},J=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://roar-env.eba-hb5rpyxz.eu-west-2.elasticbeanstalk.com/users/login",{method:"POST",headers:{username:t,password:n}});case 2:return a=e.sent,e.next=5,a.text();case 5:"INVALID"!==(s=e.sent)?(sessionStorage.setItem("auth-roar",s),console.log("Successfully logged in"),c(!0)):console.log("Unsuccessful attempt");case 7:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),H=function(e){var t=e.setLoginFunc,n=Object(c.useState)(""),a=Object(r.a)(n,2),s=a[0],o=a[1],i=Object(c.useState)(""),l=Object(r.a)(i,2),u=l[0],j=l[1];return Object(w.jsxs)("div",{className:"container-fluid mt-3 ",children:[Object(w.jsx)("h3",{className:"title text-center",children:"Login"}),Object(w.jsx)(U,{type:"text",inputFunc:function(e){o(e.target.value)},placeholder:"Username"}),Object(w.jsx)(U,{type:"password",inputFunc:function(e){j(e.target.value)},placeholder:"Password"}),Object(w.jsx)(y.a,{variant:"secondary",onClick:function(){J(s,u,t)},className:"rounded-pill form-control",children:"Login"})]})},G=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c,a,s){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={username:t,name:n,email:c,password:a},e.next=3,fetch("http://roar-env.eba-hb5rpyxz.eu-west-2.elasticbeanstalk.com/users/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:if(201!==e.sent.status){e.next=10;break}return console.log("Successfully created"),e.next=8,J(t,a,s);case 8:e.next=11;break;case 10:console.log("Unsuccessful!");case 11:case"end":return e.stop()}}),e)})));return function(t,n,c,a,s){return e.apply(this,arguments)}}(),Q=function(e){var t=e.setLoginFunc,n=Object(c.useState)(""),a=Object(r.a)(n,2),s=a[0],o=a[1],i=Object(c.useState)(""),l=Object(r.a)(i,2),u=l[0],j=l[1],d=Object(c.useState)(""),b=Object(r.a)(d,2),h=b[0],p=b[1],x=Object(c.useState)(""),f=Object(r.a)(x,2),O=f[0],m=f[1];return Object(w.jsxs)("div",{className:"container-fluid mt-3 ",children:[Object(w.jsx)("h3",{className:"title text-center",children:"Register"}),Object(w.jsx)(U,{type:"text",inputFunc:function(e){o(e.target.value)},placeholder:"Username"}),Object(w.jsx)(U,{type:"text",inputFunc:function(e){j(e.target.value)},placeholder:"Name"}),Object(w.jsx)(U,{type:"text",inputFunc:function(e){p(e.target.value)},placeholder:"Email"}),Object(w.jsx)(U,{type:"password",inputFunc:function(e){m(e.target.value)},placeholder:"Password"}),Object(w.jsx)(y.a,{variant:"secondary",onClick:function(){G(s,u,h,O,t)},className:"rounded-pill form-control",children:"Register"})]})},q=function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("auth-roar"),e.next=3,fetch("http://roar-env.eba-hb5rpyxz.eu-west-2.elasticbeanstalk.com/users/logout",{method:"POST",headers:{"Content-Type":"Application/json",token:t}});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1];return!1===n?Object(w.jsxs)(l.a,{children:[Object(w.jsx)("div",{className:"container-fluid fixed-bottom",children:Object(w.jsx)(o.a,{className:"row",children:Object(w.jsxs)(i.a,{children:[Object(w.jsx)(i.a.Item,{className:"col-3 text-center",children:Object(w.jsx)(l.b,{to:"/home",children:"Home"})}),Object(w.jsx)(i.a.Item,{className:"col-3 text-center",children:Object(w.jsx)(l.b,{to:"/about",children:"About"})}),Object(w.jsx)(i.a.Item,{className:"col-3 text-center",children:Object(w.jsx)(l.b,{to:"/login",children:"Login"})}),Object(w.jsx)(i.a.Item,{className:"col-3 text-center",children:Object(w.jsx)(l.b,{to:"/register",children:"Register"})})]})})}),Object(w.jsxs)(j.a,{children:[Object(w.jsx)(u.a,{exact:!0,path:"/",children:Object(w.jsx)(L,{id:"homepage"})}),Object(w.jsx)(u.a,{path:"/home",children:Object(w.jsx)(L,{id:"homepage"})}),Object(w.jsx)(u.a,{path:"/about",children:Object(w.jsx)(z,{id:"about"})}),Object(w.jsx)(u.a,{path:"/login",children:Object(w.jsx)(H,{id:"login",setLoginFunc:a})}),Object(w.jsx)(u.a,{path:"/register",children:Object(w.jsx)(Q,{id:"register",setLoginFunc:a})})]})]}):!0===n?Object(w.jsxs)(l.a,{children:[Object(w.jsx)("div",{className:"container-fluid fixed-bottom",children:Object(w.jsx)(o.a,{className:"row",children:Object(w.jsxs)(i.a,{children:[Object(w.jsx)(i.a.Item,{className:"col-4 text-center",children:Object(w.jsx)(l.b,{to:"/home",children:"Home"})}),Object(w.jsx)(i.a.Item,{className:"col-4 text-center",children:Object(w.jsx)(l.b,{to:"/about",children:"About"})}),Object(w.jsx)(i.a.Item,{className:"col-4 text-center",children:Object(w.jsx)(l.b,{to:"/logout",children:"Logout"})})]})})}),Object(w.jsxs)(j.a,{children:[Object(w.jsx)(u.a,{exact:!0,path:"/",children:Object(w.jsx)(L,{id:"homepage"})}),Object(w.jsx)(u.a,{path:"/home",children:Object(w.jsx)(L,{id:"homepage"})}),Object(w.jsx)(u.a,{path:"/about",children:Object(w.jsx)(z,{id:"about"})}),Object(w.jsx)(u.a,{path:"/logout",children:Object(w.jsx)(q,{id:"logout"})})]})]}):void 0},B=function(){return Object(w.jsx)(V,{})};var M=function(){return Object(w.jsx)("div",{children:Object(w.jsx)(B,{})})};s.a.render(Object(w.jsx)(M,{}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.bc59d8d4.chunk.js.map