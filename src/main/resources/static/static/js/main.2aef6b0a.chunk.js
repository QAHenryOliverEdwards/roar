(this["webpackJsonproar-dev-branch"]=this["webpackJsonproar-dev-branch"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(12),a=n.n(r),s=(n(17),n(18),n(19),n(7)),o=n.n(s),i=n(10),u=n(8),l=n(1),j=function(){return Object(l.jsx)("h1",{className:"title",children:"Welcome to Roar"})},f=n(23),h=n(25),b=function(e){var t=e.userInputFunc,n=e.searchFunc;return Object(l.jsxs)(f.a,{className:"my-3",children:[Object(l.jsx)("input",{type:"search",onChange:function(e){return t(e)},className:"form-control"}),Object(l.jsx)(h.a,{variant:"secondary",onClick:function(){return n()},children:"Search!"})]})},p=function(e){var t=[];return e.forEach((function(e){e.posts.forEach((function(n){var c={postID:n.id,name:e.name,body:n.body,childrenID:[]};!function e(t,n,r){if(!Array.isArray(n)||0===n.length)return c;n.forEach((function(n){return c.childrenID.push({pID:t.id,cID:n.id,level:r}),r+=1,e(n,n.children,r)}))}(n,n.children,1),t.push(c)}))})),t},d=n(24),x=function(e){var t=e.post;return Object(l.jsx)("div",{children:Object(l.jsxs)(d.a,{className:"dark-green-bg",children:[Object(l.jsx)(d.a.Title,{className:"post-name",children:t.name}),Object(l.jsx)(d.a.Text,{className:"post-text",children:t.body})]})})},O=function(e){var t=e.post;return Object(l.jsx)("div",{children:Object(l.jsxs)(d.a,{className:"light-green-bg",children:[Object(l.jsx)(d.a.Title,{className:"post-name",children:t.name}),Object(l.jsx)(d.a.Text,{className:"post-text",children:t.body}),Object(l.jsxs)(d.a.Text,{className:"post-text",children:["At reply level ",t.level]})]})})},v=function(e){var t=e.postDictionary,n=[];return Object(l.jsx)("div",{children:function(){console.log(t);var e=function(e){for(var n in t)if(t[n].postID===e)return{postID:t[n].postID,name:t[n].name,body:t[n].body}},c=0;t.forEach((function(e){var t=0,n=e.postID;n>t&&(c=n),t=n}));var r=function(c,r){var a,s=[];c.forEach((function(t){if(t.pID===r){var c=e(t.cID);c.level=t.level,n.push(Object(l.jsx)(O,{post:c},t.cID)),s.push(t.cID)}})),a=s,t.forEach((function(e,t,n){a.includes(e.postID)&&n.splice(t,1)}))};return t.forEach((function(t,a,s){var o=e(t.postID);n.push(Object(l.jsx)(x,{post:o},t.postID));for(var i=t.postID;i<=c;)r(t.childrenID,i),i+=1;s.splice(a,1)})),n}()})},m=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(u.a)(a,2),f=s[0],h=s[1],d=Object(c.useState)(""),x=Object(u.a)(d,2),O=(x[0],x[1]),m=Object(c.useCallback)(Object(i.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length){e.next=8;break}return e.next=3,fetch("http://127.0.0.1:8082/users/read");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,r(c);case 8:case"end":return e.stop()}}),e)}))),[n.length]),I=Object(c.useCallback)((function(){var e=p(n);e.length?h(e):h([])}),[n]),D=Object(c.useCallback)(Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return e.next=4,I();case 4:case"end":return e.stop()}}),e)}))),[I,m]);return Object(c.useEffect)((function(){D()}),[D]),Object(l.jsxs)("div",{className:"container-fluid mt-3",children:[Object(l.jsx)(j,{}),Object(l.jsx)(b,{userInputFunc:function(e){O(e.target.value)},searchFunc:function(){I()}}),Object(l.jsx)(v,{postDictionary:f})]})},I=function(){return Object(l.jsx)(m,{})};a.a.render(Object(l.jsx)(I,{}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.2aef6b0a.chunk.js.map